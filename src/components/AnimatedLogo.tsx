'use client'

import { useEffect, useRef } from 'react'
import { gsap } from 'gsap'
import { DrawSVGPlugin } from 'gsap/DrawSVGPlugin'

gsap.registerPlugin(DrawSVGPlugin)

interface AnimatedLogoProps {
  animationType?: 'sequential' | 'centerOut' | 'wave' | 'morph'
  duration?: number
  delay?: number
  className?: string
}

export default function AnimatedLogo({
  animationType = 'sequential',
  duration = 2,
  delay = 0,
  className = '',
}: AnimatedLogoProps) {
  const logoRef = useRef<SVGSVGElement>(null)

  useEffect(() => {
    const svg = logoRef.current
    if (!svg) return

    // Kill any existing animations
    gsap.killTweensOf(svg)

    // Alternative: Simple fade-in animation if DrawSVG doesn't work well
    const simpleAnimation = () =>
      gsap.fromTo(
        svg,
        { opacity: 0, scale: 0.8 },
        { opacity: 1, scale: 1, duration: 1.5, delay, ease: 'back.out(1.7)' }
      )

    // Try DrawSVG first, fallback to simple animation
    try {
      const paths = svg.querySelectorAll('path')
      if (!paths || paths.length === 0) {
        simpleAnimation()
        return
      }

      const animations = {
        sequential: () =>
          gsap.fromTo(paths, { drawSVG: '0%' }, { drawSVG: '100%', duration, stagger: 0.2, delay, ease: 'power2.out' }),
        centerOut: () =>
          gsap.fromTo(
            paths,
            { drawSVG: '50% 50%' },
            { drawSVG: '0% 100%', duration, stagger: 0.1, delay, ease: 'power2.out' }
          ),
        wave: () =>
          gsap.fromTo(
            paths,
            { drawSVG: '0%' },
            { drawSVG: '100%', duration: 0.8, stagger: 0.1, delay, ease: 'back.out(1.7)' }
          ),
        morph: () => {
          const tl = gsap.timeline({ delay })
          tl.fromTo(
            paths,
            { drawSVG: '0%', stroke: '#ff6b6b' },
            { drawSVG: '100%', stroke: '#4ecdc4', duration, stagger: 0.1, ease: 'power2.out' }
          ).to(
            paths,
            {
              stroke: '#000000',
              duration: 0.3,
              ease: 'power2.out',
            },
            '-=0.2'
          )
          return tl
        },
      }

      const animation = animations[animationType]()
      if (!animation) {
        simpleAnimation()
      }
    } catch (error) {
      console.warn('DrawSVG animation failed, using fallback:', error)
      simpleAnimation()
    }

    return () => {
      gsap.killTweensOf(svg)
    }
  }, [animationType, duration, delay])

  return (
    <svg
      ref={logoRef}
      viewBox="0 0 1024 1024"
      className={`w-full h-auto ${className}`}
      xmlns="http://www.w3.org/2000/svg"
    >
      {/* SW Beauty Logo Paths - stroke-only for DrawSVG animation */}
      <path
        fill="none"
        stroke="#000000"
        strokeWidth="12"
        strokeLinecap="round"
        strokeLinejoin="round"
        d="M232.148224,517.340393 C238.825394,497.232758 245.415176,477.515259 251.829498,457.740845 C253.035889,454.021667 254.899658,452.016449 258.989014,452.634796 C260.128906,452.807190 261.343597,452.814301 262.479340,452.626862 C267.029144,451.876038 268.940033,454.206726 270.222748,458.271149 C276.125671,476.975159 282.252411,495.608490 288.293182,514.268982 C290.032410,519.641663 291.752655,525.020447 293.864624,531.587402 C294.699677,529.244446 295.233521,527.881592 295.674500,526.489319 C302.905487,503.660858 310.220520,480.858185 317.256714,457.969788 C318.495880,453.938751 320.307800,452.100220 324.585358,452.611145 C328.187073,453.041321 331.887787,452.184418 335.405090,453.130707 C336.495331,454.785919 335.515930,456.188202 335.066223,457.505859 C324.806854,487.567139 314.434296,517.590027 304.261505,547.680481 C303.029633,551.324402 301.165894,552.505798 297.412292,552.483337 C285.408936,552.411621 285.356537,552.567322 281.576599,541.061096 C274.832031,520.530579 268.156647,499.977264 261.040649,478.171906 C258.223969,486.524261 255.733414,493.777863 253.331085,501.060577 C248.225906,516.537231 243.077545,532.000793 238.155258,547.535767 C237.019699,551.119568 235.280655,552.504456 231.424805,552.481995 C218.978394,552.409363 218.935898,552.575256 215.010178,540.945129 C205.648743,513.211304 196.325363,485.464539 187.010147,457.715088 C186.546326,456.333374 185.748932,454.955109 186.493286,453.083618 C191.121674,452.245026 195.932892,452.668182 200.717194,452.778900 C203.741348,452.848846 203.644730,455.658905 204.231277,457.541260 C211.302002,480.232361 218.270538,502.955322 225.273117,525.667664 C225.756058,527.234009 226.298065,528.782043 227.048004,531.050781 C229.980011,526.567200 230.515656,521.952026 232.148224,517.340393 z"
      />

      <path
        fill="none"
        stroke="#000000"
        strokeWidth="12"
        strokeLinecap="round"
        strokeLinejoin="round"
        d="M368.216309,549.828491 C366.869781,553.643127 363.927643,552.322388 361.715820,552.320007 C350.430939,552.307861 351.733307,553.666504 351.727722,542.659302 C351.705872,499.537292 351.756989,456.415253 351.789368,413.293243 C351.794342,406.677704 351.815247,406.611450 358.355072,406.666504 C370.585327,406.769470 368.954529,405.255676 369.052155,417.246155 C369.160614,430.564545 369.046082,443.884766 369.029724,457.204193 C369.026886,459.513641 369.029327,461.823059 369.029327,463.963257 C370.533295,464.544189 371.054626,463.729950 371.574707,463.166595 C391.540344,441.538391 428.986725,447.918823 442.523926,475.328613 C452.375305,495.275391 450.318329,527.894714 432.428131,543.852295 C413.570160,560.673157 385.222473,558.820129 369.739136,538.802551 C369.471893,538.457031 369.095276,538.196106 368.269104,537.433960 C368.269104,541.789246 368.269104,545.570740 368.216309,549.828491 z"
      />

      <path
        fill="none"
        stroke="#000000"
        strokeWidth="12"
        strokeLinecap="round"
        strokeLinejoin="round"
        d="M579.392212,461.371826 C594.411377,447.715363 622.532104,446.408356 637.544067,458.322296 C645.593506,464.710541 649.082947,473.318665 649.263184,483.178009 C649.567566,499.832275 649.299500,516.496338 649.381592,533.155762 C649.406982,538.312500 649.765991,543.468628 650.013733,548.622986 C650.150208,551.462585 649.060547,553.102295 646.017639,553.002075 C645.851440,552.996582 645.682922,553.027222 645.518311,553.011475 C641.780151,552.654419 637.146240,554.655518 634.518616,551.717041 C632.060181,548.967712 634.354675,544.334351 633.093445,540.055420 C626.827454,546.603699 619.946472,551.516846 611.327148,553.725464 C602.870483,555.892395 594.556335,555.888000 586.267456,553.166321 C573.828125,549.082031 565.777405,539.153564 565.848999,526.519043 C565.917480,514.418701 570.752991,504.641296 584.835449,498.747833 C593.881531,494.962128 603.639954,494.832001 613.183411,493.704071 C617.962524,493.139252 622.783081,492.912109 627.588684,492.588196 C631.130127,492.349487 632.811768,490.950928 632.789673,486.974304 C632.717346,473.950317 624.873596,465.748627 611.852417,465.296722 C602.791199,464.982239 593.036926,465.625336 589.615295,474.895721 C586.274841,483.946289 580.551331,483.741821 573.543640,483.329346 C571.916809,483.233612 570.192261,483.642426 568.325928,482.213043 C569.982361,474.435303 573.230713,467.364227 579.392212,461.371826 z"
      />

      <path
        fill="none"
        stroke="#000000"
        strokeWidth="12"
        strokeLinecap="round"
        strokeLinejoin="round"
        d="M475.821045,543.208374 C462.329681,530.047546 459.098114,513.811096 460.347748,496.238251 C461.370697,481.853424 466.596161,469.282898 478.333801,460.325409 C493.814850,448.511230 511.023346,447.277679 528.284302,455.087402 C544.369507,462.365204 551.381775,476.397614 552.353882,493.639404 C553.071411,506.367126 553.029541,506.373840 540.589539,506.377655 C521.424805,506.383545 502.260040,506.368347 483.095337,506.393524 C477.469727,506.400909 476.584106,507.490326 477.657532,512.879578 C479.886749,524.071350 484.876434,533.254395 496.067078,537.814331 C506.273071,541.973022 525.718384,540.724548 532.106812,527.206177 C532.776550,525.788879 533.750122,524.715027 535.516785,524.720703 C540.485046,524.736694 545.453430,524.726257 551.176880,524.726257 C547.098022,537.969910 539.240601,546.912903 527.091492,551.597168 C508.650360,558.707397 491.526672,555.939697 475.821045,543.208374 z"
      />

      <path
        fill="none"
        stroke="#000000"
        strokeWidth="12"
        strokeLinecap="round"
        strokeLinejoin="round"
        d="M845.672729,473.214325 C842.998230,466.407257 840.437134,459.968384 837.551514,452.713593 C843.504089,452.713593 848.467896,452.726440 853.431519,452.708679 C856.335999,452.698303 856.684753,454.980652 857.464661,456.995819 C866.172729,479.496887 874.907471,501.987610 883.657043,524.472534 C884.238037,525.965576 884.998352,527.388794 886.048523,529.647217 C891.491150,515.364929 896.622070,501.897308 901.755676,488.430634 C905.786682,477.856293 909.895264,467.310577 913.805115,456.691650 C914.878479,453.776245 916.422546,452.332703 919.648743,452.626434 C923.596802,452.985931 927.616760,452.170624 931.815735,453.210297 C931.511108,457.888245 929.218567,461.835297 927.636108,465.938599 C914.763611,499.317596 901.781799,532.654602 888.770264,565.979736 C886.228027,572.490723 883.452087,578.866211 878.774719,584.287903 C870.853333,593.469971 860.295959,593.823303 849.471313,593.525085 C847.836426,593.480042 847.117126,592.434998 847.049988,590.914673 C846.983948,589.417542 846.982056,587.916382 846.992554,586.417236 C847.038757,579.830688 847.044617,579.847351 853.546204,579.632324 C860.370972,579.406555 865.660645,576.419983 869.338318,570.662659 C872.684143,565.424927 874.532471,559.522400 876.786987,553.795898 C877.485352,552.022034 876.930176,550.587646 876.298828,549.028625 C866.117798,523.884033 855.953979,498.732483 845.672729,473.214325 z"
      />

      <path
        fill="none"
        stroke="#000000"
        strokeWidth="12"
        strokeLinecap="round"
        strokeLinejoin="round"
        d="M134.382477,507.882812 C129.120163,506.630646 124.338974,505.209137 119.746582,503.228058 C110.617378,499.289886 104.926407,492.496918 103.762070,482.548859 C102.489876,471.679291 106.531982,462.976257 115.639153,456.773407 C128.475143,448.030792 151.560577,447.924744 164.606323,456.439941 C172.850418,461.820953 176.130341,469.728607 176.832855,479.684265 C171.959518,480.500427 167.348511,480.260437 162.757889,479.948914 C160.643936,479.805481 160.422546,477.721954 159.885513,476.255920 C157.862396,470.732941 153.805710,467.639252 148.293335,466.271820 C142.217880,464.764771 136.080200,464.643066 130.062637,466.423920 C124.681740,468.016357 121.067940,471.555237 120.427864,477.327484 C119.768578,483.272980 123.068733,487.154968 128.004761,489.671204 C135.069733,493.272675 143.054245,493.620117 150.570496,495.644135 C154.096832,496.593719 157.629791,497.542816 161.097900,498.680664 C183.445389,506.012482 182.944519,531.472839 171.331558,543.382385 C161.423004,553.543945 148.759232,556.371643 135.069595,554.995544 C126.895515,554.173889 118.994232,552.107178 112.329811,546.874817 C105.106369,541.203491 101.695793,533.623230 100.825760,524.209717 C106.061371,523.364441 110.863754,523.678650 115.648270,523.852112 C117.457901,523.917786 117.941483,525.393433 118.497238,526.870911 C121.689705,535.358276 128.225571,539.183472 136.944321,539.738586 C142.441345,540.088440 147.928543,540.175171 153.139084,537.843018 C158.767746,535.323730 162.988205,529.517334 162.568848,524.275879 C162.073135,518.079712 158.412079,514.134705 152.666733,512.426880 C146.784912,510.678497 140.742752,509.469513 134.382477,507.882812 z"
      />

      <path
        fill="none"
        stroke="#000000"
        strokeWidth="12"
        strokeLinecap="round"
        strokeLinejoin="round"
        d="M688.327759,479.000061 C688.333618,491.333344 688.327820,503.166595 688.347656,514.999817 C688.369080,527.741577 693.699524,536.096008 703.728088,539.157776 C715.296326,542.689697 728.218506,538.289612 734.694336,528.635010 C738.040100,523.646851 739.645691,518.142578 739.647827,512.159607 C739.654358,494.326385 739.755920,476.492035 739.570374,458.660736 C739.525208,454.324432 740.481201,452.385529 745.337769,452.564056 C757.981812,453.028809 756.241821,451.072388 756.281250,463.437866 C756.368896,490.937408 756.203186,518.438171 756.405640,545.936462 C756.441467,550.804260 755.327209,552.714539 750.064087,552.522827 C738.292969,552.094116 739.880554,553.196838 739.784058,542.310913 C739.776978,541.512878 739.690430,540.715576 739.583801,539.000427 C732.562866,547.476440 724.448547,552.684998 714.242615,554.781555 C692.795166,559.187378 671.936646,542.941223 671.704895,521.031494 C671.482788,500.033966 671.739685,479.031555 671.572571,458.033020 C671.539917,453.934143 672.784180,452.474152 676.960754,452.592285 C690.367920,452.971466 688.105042,450.943207 688.314758,464.000183 C688.392395,468.832306 688.327332,473.666687 688.327759,479.000061 z"
      />

      <path
        fill="none"
        stroke="#000000"
        strokeWidth="12"
        strokeLinecap="round"
        strokeLinejoin="round"
        d="M769.950012,454.235626 C773.971802,451.534210 778.203125,452.844696 782.252747,452.749176 C785.669983,452.668549 787.013428,451.560944 787.000000,448.094788 C786.978699,442.607269 787.302795,437.116699 787.558716,431.631073 C787.625183,430.206299 787.373901,428.280457 789.387939,428.018311 C793.685303,427.459137 798.037415,427.405579 802.323730,428.033813 C804.494934,428.352081 804.269775,430.458252 804.285461,432.086609 C804.338440,437.582367 804.415833,443.080811 804.294678,448.574066 C804.228394,451.580750 805.414856,452.755676 808.421326,452.683044 C813.747559,452.554413 819.080444,452.727478 824.408875,452.651215 C827.089722,452.612854 828.356140,453.598816 828.344666,456.423767 C828.287354,470.540894 829.458374,467.894073 817.695312,468.005981 C804.328918,468.133148 804.335449,468.021179 804.287476,481.408905 C804.236755,495.565613 804.075134,509.722656 804.141296,523.878784 C804.188965,534.079407 807.935547,537.660217 818.059082,537.688538 C820.867004,537.696411 823.674866,537.689758 826.697266,537.689758 C827.882629,541.761536 827.205566,545.741028 827.268127,549.666199 C827.311951,552.412537 825.101929,552.957642 823.178650,553.100281 C818.208069,553.468872 813.171753,553.903198 808.249084,552.858582 C793.492737,549.727295 786.905945,541.324158 786.872803,525.488708 C786.836304,508.001190 786.940247,490.513000 787.069336,473.025757 C787.094666,469.598724 786.777954,467.638062 782.242126,467.721466 C767.849609,467.985992 769.564087,470.111694 769.950012,454.235626 z"
      />
    </svg>
  )
}
