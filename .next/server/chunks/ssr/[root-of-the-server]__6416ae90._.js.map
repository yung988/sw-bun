{"version":3,"sources":["turbopack:///[project]/src/lib/services.ts","turbopack:///[project]/src/app/sluzby/page.tsx"],"sourcesContent":["import fs from 'node:fs'\nimport path from 'node:path'\nimport type { PriceItem } from '@/types'\n\nexport type Service = {\n  slug: string\n  name: string\n  category: string\n  categoryId: string\n  price: string\n  priceMin?: number\n  priceMax?: number\n  sessions: string\n  duration: number\n  description: string\n  isPackage: boolean\n  isVariablePrice: boolean\n}\n\nfunction parseCSV(csvText: string): PriceItem[] {\n  const lines = csvText.split('\\n').filter((line) => line.trim())\n  if (lines.length < 2) return []\n\n  const items: PriceItem[] = []\n\n  for (let i = 1; i < lines.length; i++) {\n    const regex = /^([^,]+),([^,]+),(\"(?:[^\"]|\"\")*\"|[^,]+),([^,]+),([^,]+),(\"(?:[^\"]|\"\")*\"|[^,]*)$/\n    const match = lines[i].match(regex)\n\n    if (match) {\n      items.push({\n        CategoryId: match[1].trim(),\n        CategoryName: match[2].trim(),\n        PackageName: match[3].replace(/^\"|\"$/g, '').replace(/\"\"/g, '\"').trim(),\n        Price: match[4].trim(),\n        Sessions: match[5].trim(),\n        Description: match[6].replace(/^\"|\"$/g, '').replace(/\"\"/g, '\"').trim(),\n      })\n    }\n  }\n\n  return items\n}\n\nfunction extractDuration(text: string): number {\n  const match = text.match(/(\\d+)\\s*(min|minut)/i)\n  return match ? parseInt(match[1]) : 60\n}\n\nfunction createSlug(text: string): string {\n  return text\n    .toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '')\n    .replace(/[^a-z0-9]+/g, '-')\n    .replace(/^-+|-+$/g, '')\n}\n\nfunction parsePrice(priceStr: string): { min?: number; max?: number; isVariable: boolean } {\n  if (priceStr.includes('-')) {\n    const parts = priceStr.split('-')\n    const min = parseInt(parts[0].replace(/[^\\d]/g, ''))\n    const max = parseInt(parts[1].replace(/[^\\d]/g, ''))\n    return { min, max, isVariable: true }\n  }\n\n  const price = parseInt(priceStr.replace(/[^\\d]/g, ''))\n  return { min: price, max: price, isVariable: false }\n}\n\nexport function priceItemToService(item: PriceItem): Service {\n  const isPackage = item.PackageName.toLowerCase().includes('balíček')\n  const { min, max, isVariable } = parsePrice(item.Price)\n\n  return {\n    slug: `${createSlug(item.CategoryId)}-${createSlug(item.PackageName)}`,\n    name: item.PackageName,\n    category: item.CategoryName,\n    categoryId: item.CategoryId,\n    price: item.Price,\n    priceMin: min,\n    priceMax: max,\n    sessions: item.Sessions,\n    duration: extractDuration(item.PackageName),\n    description: item.Description,\n    isPackage,\n    isVariablePrice: isVariable,\n  }\n}\n\nexport function getAllServices(): Service[] {\n  const csvPath = path.join(process.cwd(), 'public', 'pricelist.csv')\n  const csvContent = fs.readFileSync(csvPath, 'utf-8')\n  const items = parseCSV(csvContent)\n  return items.map(priceItemToService)\n}\n\nexport function getServiceBySlug(slug: string): Service | null {\n  const services = getAllServices()\n  return services.find((s) => s.slug === slug) || null\n}\n\nexport function getServicesByCategory(categoryId: string): Service[] {\n  return getAllServices().filter((s) => s.categoryId === categoryId)\n}\n\nexport function getMainServices(): Service[] {\n  const all = getAllServices()\n\n  const mainSlugs = [\n    'hifu-hifu-facelift-cely-oblicej-bez-ocniho-okoli-60-minut',\n    'endosphere-endos-roller-cele-telo-75-minut-skvely-na-rozjeti-celeho-lymfatickeho-systemu',\n    'budovani-svalu-budovani-svalu-2-partie-30-minut-bricho-zadek-stehna-zadek-paze-bricho',\n    'kosmetika-hydrafacial-standard',\n    'kavitace-kavitace-bricho-50minut',\n  ]\n\n  return mainSlugs.map((slug) => all.find((s) => s.slug === slug)).filter((s): s is Service => s !== undefined)\n}\n\nexport function getCategories(): string[] {\n  const services = getAllServices()\n  return [...new Set(services.map((s) => s.categoryId))]\n}\n\nexport function getCategoryName(categoryId: string): string {\n  const service = getAllServices().find((s) => s.categoryId === categoryId)\n  return service?.category || categoryId.toUpperCase()\n}\n","import type { Metadata } from 'next'\nimport Link from 'next/link'\nimport { getCategories, getServicesByCategory, getCategoryName } from '@/lib/services'\n\nexport const metadata: Metadata = {\n  title: 'Všechny služby | SW Beauty',\n  description:\n    'Kompletní přehled všech služeb SW Beauty - kosmetika, HIFU facelift, budování svalů, endos-roller a další.',\n}\n\nexport default function AllServicesPage() {\n  const categories = getCategories()\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16\">\n        <div className=\"text-center mb-16\">\n          <h1 className=\"text-4xl md:text-5xl font-bold text-gray-900 mb-4\">Všechny služby</h1>\n          <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n            Prohlédněte si kompletní nabídku našich procedur a ošetření\n          </p>\n        </div>\n\n        <div className=\"space-y-16\">\n          {categories.map((categoryId) => {\n            const services = getServicesByCategory(categoryId)\n            const categoryName = getCategoryName(categoryId)\n\n            return (\n              <div key={categoryId} className=\"space-y-6\">\n                <h2 className=\"text-3xl font-bold text-gray-900 border-b-2 border-gray-200 pb-4\">{categoryName}</h2>\n                <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {services.map((service) => (\n                    <Link\n                      key={service.slug}\n                      href={`/sluzby/${service.slug}`}\n                      className=\"group bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-all duration-200 hover:-translate-y-1\"\n                    >\n                      <div className=\"flex items-start justify-between mb-3\">\n                        <h3 className=\"text-lg font-semibold text-gray-900 group-hover:text-gray-700 line-clamp-2 flex-1\">\n                          {service.name}\n                        </h3>\n                      </div>\n\n                      <p className=\"text-gray-600 text-sm mb-4 line-clamp-2\">{service.description}</p>\n\n                      <div className=\"flex items-center justify-between pt-4 border-t border-gray-100\">\n                        <div>\n                          <p className=\"text-2xl font-bold text-gray-900\">{service.price}</p>\n                          <p className=\"text-sm text-gray-500\">{service.duration} minut</p>\n                        </div>\n                        <span className=\"text-sm font-medium text-gray-700 group-hover:text-gray-900\">\n                          Rezervovat →\n                        </span>\n                      </div>\n                    </Link>\n                  ))}\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}